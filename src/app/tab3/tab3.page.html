<ion-content class="content">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Saved</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content [fullscreen]="true">
    <ion-grid>
      <ion-row>
        <ion-text color="primary">
          <h1>My Library</h1>
        </ion-text>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-button fill="outline" shape="round" (click)="toggleViewBorrowedBooks()">My Books</ion-button>
        </ion-col>
        <ion-col>
          <ion-button fill="outline" shape="round" (click)="toggleViewWishlist()">Wishlist</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- Tampilan Wishlist -->
    <ion-list style="margin-bottom: 5em;" *ngIf="showWishlist && wishlistItems.length > 0; else noWishlistItems">
      <ion-item *ngFor="let item of wishlistItems">
        <img class="image-book" style="width: 20%; padding: 0.5em;" [src]="getBookCoverUrl(item)" alt="book cover" />
        <ion-label>
          {{ item.judul }} <br>
          {{ item.pengarang }}
        </ion-label>
        <p>
          <ion-icon style="color: yellow;" name="star"></ion-icon> {{ item.rating }}
        </p>
        <ion-button *ngIf="item.inWishlist" (click)="removeFromWishlist(item.id)">
          Remove from Wishlist
        </ion-button>
        <ion-button *ngIf="!item.inWishlist" (click)="addToWishlist(item.id)">
          Add to Wishlist
        </ion-button>
      </ion-item>
    </ion-list>
    <ng-template #noWishlistItems>
      <ion-text class="ion-text-center" *ngIf="showWishlist && wishlistItems.length === 0">
        <p>No items in your wishlist.</p>
      </ion-text>
    </ng-template>

    <!-- Tampilan My Books -->
    <ion-list style="margin-bottom: 5em;" *ngIf="showBorrowedBooks && borrowedBooks.length > 0; else noBorrowedBooks">
      <ion-item *ngFor="let book of borrowedBooks">
        <img class="image-book" style="width: 20%; padding: 0.5em;" [src]="getBookCoverUrl(book)" alt="book cover" />
        <ion-label>
          {{ book.judul }} <br>
          {{ book.pengarang }}
        </ion-label>
        <p>
          <ion-icon style="color: yellow;" name="star"></ion-icon> {{ book.rating }}
        </p>
      </ion-item>
    </ion-list>
    <ng-template #noBorrowedBooks>
      <ion-text class="ion-text-center" *ngIf="showBorrowedBooks && borrowedBooks.length === 0">
        <p>No books currently borrowed.</p>
      </ion-text>
    </ng-template>
  </ion-content>
</ion-content>
